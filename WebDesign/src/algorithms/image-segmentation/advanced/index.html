<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Advanced Image Segmentation | Web Application</title>
		<link rel="stylesheet" href="style.css" />
		<link
			rel="icon"
			type="image/svg+xml"
			href="../../../../public/images/icon.svg"
		/>
		<script
			async
			src="https://docs.opencv.org/4.x/opencv.js"
			type="text/javascript"
		></script>
	</head>
	<body>
		<nav class="sidebar" aria-label="Main navigation">
			<h2>Modes</h2>
			<ul>
				<li>
					<button class="mode-btn active" data-mode="morph">
						Morphological Ops
					</button>
				</li>
				<li>
					<button class="mode-btn" data-mode="edge">Edge Detection</button>
				</li>
				<li>
					<button class="mode-btn" data-mode="skeleton">Skeletonization</button>
				</li>
			</ul>
		</nav>
		<div class="main-content">
			<header>
				<h1>Advanced Image Segementation Lab</h1>

				<p>
					Upload an image and apply advanced segmentation techniques. Adjust
					parameters for real-time results.
				</p>
				<p>
					<a href="../simple/index.html" class="advanced-link">
						<i class="fas fa-arrow-left"></i> Back to Simple Version
					</a>
				</p>
			</header>
			<main>
				<section>
					<form id="uploadForm" class="controls">
						<label class="custom-file-upload">
							<input type="file" id="imageLoader" accept="image/*" />
							Select Image
						</label>
						<button type="button" id="segmentBtn" disabled>Segment</button>
						<button type="button" id="downloadBtn" disabled>Download</button>
					</form>
					<div class="controls" id="parameterControls">
						<div id="morphParams">
							<label for="kernelSize">Kernel Size:</label>
							<input
								type="number"
								id="kernelSize"
								min="1"
								max="21"
								value="3"
								step="2"
							/>
							<label for="kernelShape">Shape:</label>
							<select id="kernelShape">
								<option value="rect">Rect</option>
								<option value="ellipse">Ellipse</option>
								<option value="cross">Cross</option>
							</select>
							<label for="morphOp">Operation:</label>
							<select id="morphOp">
								<option value="dilate">Dilate</option>
								<option value="erode">Erode</option>
								<option value="open">Open</option>
								<option value="close">Close</option>
							</select>
						</div>
						<div id="edgeParams" style="display: none">
							<label for="edgeThreshold">Edge Threshold:</label>
							<input
								type="range"
								id="edgeThreshold"
								min="10"
								max="200"
								value="120"
							/>
							<span id="thresholdValue">120</span>
						</div>
						<div id="skeletonParams" style="display: none">
							<label for="skeletonIterations">Iterations:</label>
							<input
								type="number"
								id="skeletonIterations"
								min="1"
								max="20"
								value="10"
							/>
						</div>
					</div>
					<div id="canvasContainer">
						<canvas id="imageCanvas"></canvas>
					</div>
					<div class="error-message" id="errorMessage"></div>
				</section>
			</main>
			<footer>
				<p>Â© 2025 RIDING-SOLO | Blessed Panashe Nyathi</p>
			</footer>
		</div>
		<script src="script.js"></script>
	</body>
</html>
